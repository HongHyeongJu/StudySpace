### K-MOOC 데이터베이스 보안 강의 청강
#### 9주차. 접근제어

<br>
<br>


## [ 1~3. 접근제어 개요 / 설계/ 구축 ]

<br>

#### 접근 제어
* 데이터베이스의 특징
  * DBMS 관리 시스템으로 관리
  * 인증 -> SQL(질의어)를 통해서 정보에 접근 가능
  * DMZ를 거쳐 조직의 가장 내부에 위치함
  * DBMS 자체가 강력한 보안기능 제공함
  * -> DB접근 권한을 가진 사용자의 권한 남용이 가장 큰 위협
* 데이터베이스 접근제어
  * 사용자가 DBMS에 로그인 하거나, SQL을 수행하려고 할 때 미리 정의된 보안 규칙에 따라 권한 여부를 판단하여 통제하는 솔루션

<br>

#### 접근 제어 수행 요소
* 주체, 객체, 접근권한
* 주체
  * 객체에 접근할 수 있는 대상
  * 등급분류 : 소유자, 그룹, 전체
* 객체
  * 주체가 접근 및 사용하는 대상
* 접근 권한
  * 특정 주체가 특정 객체를 접근하는 방법을 지정함
  * 읽기, 쓰기, 실행, 삭제, 생성
#### 접근 제어 절차
* 식별 -> 인증 -> 인가
* 식별
  * 시스템에게 주체의 식별자를 확인하는 과정
* 인증
  * 정보에 접근할 수 있는 주체의 능력이나 자격검증
  * 전송된 메세지의 변조 여부 확인
  * (지식/소유/생체)
* 인가
  * 주체가 객체에 재한 사용 권한을 부여 받는 것
  * 정당한 권한 확인 절차

<br>
<br>

#### 접근제어 설계를 위한 규칙 정의
* 접근제어 규칙 요소 : 정보 식별, 사용자 식별, 접근 방법, 접근 시간
* 정보 식별
  * 접근제어할 대상 정보 식별 ex) 개인정보 - 정보통신망 이용 촉진 및 정보보호 등에 관한 법률, 개인정보보호법
  * 법적 규제 외에 조직의 성격에 따라 접근제어할 정보 정의
* 사용자 식별
  * 관리 대상 정보에 사용할 수 있는 사용자 파악하는 것
  * IP, MAC주소, 계정, OTP, 는
* 접근 방법
  * 정보에 접근할 수 있는 방법
  * 단말기, 접속툴, 접속 프로토콜, 사용 SQL종류 제한
* 접근 시간
  * 정보에 접근할 수 있는 시간 통제
  * 민감한 정보응 업무시간에만 접속이 가능하도록 설정

<br>
<br>


#### 접근제어규칙의 일반적인 구성
* [명칭부], [조건부], [제어부]
* 명칭부
  * 규칙의 명칭 정의, 내용 간단명료 작성
* 조건부
  * 규칙이 적용되는 조건 설정
* 제어부
  * 조건부에서 설정한 조건으로 사용자가 접속을 하는 경우 어떻게 제어할지 정의
  * 로그인 통제, SQL수행 통제(수행마다 권한 확인), 로깅 통제(불필요한 SQL저장하지 않도록), 경보 통제
  * ex) 개발환경(조회,수정,추가,삭제권한) 운영환경(조회 권한필요)


<br>
<br>



## [ 3. 데이터베이스 접근 제어 구축 ]

<br>

#### 접근 제어 규칙의 적용을 위한 환경설정
* 우회 접근 차단이 필요함
* 접근제어 결과에 대해 모두 기록되도록 로깅 설정 필요
* 책임 추적성 보장하기


<br>
<br>


#### 우회 접근 방지
* **프록시 게이트웨이**
  * 접근제어 서버를 구축하는 것
  * DB 접속 시 프록시 서버를 경유하도록 강제하여 접근제어를 수행함
  * 내부사용자 단말기에 전용 프로그램 설치/접속정보 저장된 파일을 수정하여 프록시 서버 경유
  * 다양한 차단 방법을 통해 우회 접근 차단도 필요함
* 우회 접근 방지
  * 에이전트 설치에 의한 차단, 직접 접속할 수 있는 환경 제거 필요함
  * 서버 보안에 의한 차단, 권한이 있는 경우에만 실행
  * 스니핑 방식에 의한 차단, DB서버에 영향을 미치지 않고 패킷을 복사하는 방식
* 환경 보안
  * 접근제어 서버 관리
  * DB 접근 제어 관리자 계정 관리
  * 포트 관리
  * OS 취약점 관리


<br>
<br>

#### 보안 적용 시험
* 접근제어 솔루션의 기능이 제대로 동작하는지 점검
* 개발 혹은 테스트 DB가 별도로 구축된 상태에서 진행
* 시험결과는 시험결과서로 관리
* 시험 대상 항목 : 로그인제어, SQL통제, 로깅(감사), 경보, SQL마스킹, 모니터링, 보안 정책 관리, 보고서, 장애대응, 로그관리)
* 시험 환경은 항목에 따라 구성
* 보안 적용 시험 수행 
  * 기능 시험, 그외의 시험
  * 유의점 : DB접근제어를 위해 필요하다고 생각하는 모든 기능 점검하기



<br>
<br>



## [ 4-5. 임의적 접근 제어 DAC ]

<br>

#### 접근제어 모델(접근제어 정책)
* 주체가 어떻게 객체에 접근하는 지를 규정하는 방법이나 프레임
* 4가지 주요 접근 통제 정책
  * 임의적 접근제어 (DAC) : 접근요청한 사용자의 신분, 규칙에 기반
  * 강제적 접근제어 (MAC) : 주체 및 객체의 보안분류 등급에 기반
  * 역할기반 접근제어 (RBAC) : 주체에 대한 행위, 역할에 기반
  * 속성기반 접근제어 (ABAC) : 동적인 환경과 주체,객체의 속성에 기반함

<br>
<br>

#### 임의적 접근제어 (DAC)
* Discretionary Access Control
* Discretionary : 임의적, 객체 소유자의 판단에 따라 임의적으로 권한을 줄 수 있다는 의미
* Identity-based Access Control 라고 부르기도 함

<br>

#### 장점
* 필요에 따라 접근제어 가능 -> 융통성 있는 시스템
* 대체적으로 구현용이, 간단한 사용
* 객체별로 세분화된 접근 제어 가능함
#### 단점
* 다른 모델에 비해 취약한 보안성
* 정보에 대한 엄격한 접근제어 어려움
* 다른 주체의 신분을 도용하는 경우 중대한 결함 발생 가능
* 트로이목마 공격에 취약함
#### 예시
* 대부분의 OS에서 DAC 기반 정책 구현
* ex) Microsoft의 Window 운영체제
* 대표적 모델 : 접근제어행렬, 권한목록(토큰), 접근제어목록



<br>

#### 접근제어 행렬
* 모든 주체와 객체에 대한 권한 관계를 2차원 배열로 표현(테이블)
* 실제 시스템 구현 시 권한목록이나 AccessControlList로 구현
* 권한 목록 Capability List
  * 주체에 접근 가능한 객체를 리스트로 구현하는 방법
  * ex) 토큰 (객체에 대한 권한 정보 보유)
* 접근제어목록 Access Control List
  * 객체에 대한 권한을 가지고 있는 주체를 리스트 형태로 구현한것(객체 중심 )
#### 트로이목마(Trojarn Horse) 공격에 취약
* 응용프로그램에 내장된 Trojarn Horse에 대해 데이터 보호가 불가함




