### 2023.12.21.

<br>

### 이벤트 위임

* 페이지네이션 버튼이 동적으로 생성된 후에 이벤트 리스너를 추가하는 주요 방법 중 하나 
* **이벤트 위임(Event Delegation)**을 사용하기
* 이벤트 위임은 이벤트 핸들러를 개별 요소에 직접 바인딩하지 않고, 상위 요소에 바인딩하여 이벤트 버블링을 활용하는 방식
* 이벤트 위임 사용
  * 상위 요소에 이벤트 리스너 추가: 
    * 페이지네이션 버튼을 포함하는 상위 요소(예: naviDiv)에 이벤트 리스너를 추가합니다. 
  * 이벤트 대상 확인: 
    * 이벤트가 발생했을 때, 이벤트 대상이 페이지네이션 버튼인지 확인합니다. 
  * 필요한 처리 수행: 
    * 이벤트 대상이 페이지네이션 버튼일 경우, 필요한 처리(예: 페이지 로드)를 수행합니다.

<br>

```javascript
document.getElementById('naviDiv').addEventListener('click', function(event) {
    // 이벤트가 발생한 대상이 페이지네이션 버튼인지 확인
    if (event.target.classList.contains('pagingBtn')) {
        let pageNumber = event.target.dataset.page; // data-page 속성에서 페이지 번호 가져오기
        naviBtnEvent(pageNumber); // 페이지 로드 함수 호출
    }
});

```
* 위의 코드에서는 naviDiv라는 ID를 가진 요소에 클릭 이벤트 리스너를 추가하고, 
* 이벤트가 발생했을 때 클릭된 대상이 페이지네이션 버튼(pagingBtn 클래스를 가진 요소)인지 확인
* 클릭된 대상이 페이지네이션 버튼이면, 해당 버튼의 data-page 속성에서 페이지 번호를 가져와 naviBtnEvent 함수를 호출함


<br>

* 주의사항 
* 이벤트 버블링:
  * 이벤트 위임은 이벤트 버블링을 기반으로 하므로, 클릭된 요소가 실제 대상 요소인지 정확히 확인하는 것이 중요함
* 동적 요소 처리: 
  * 이벤트 위임을 사용하면, 요소가 나중에 페이지에 추가되더라도 별도의 이벤트 리스너 추가 없이 이벤트를 처리할 수 있음
* 이벤트 위임 방식은 동적으로 생성되는 요소에 대한 이벤트 처리에 효율적이며, 이벤트 핸들러의 중복을 줄여줌

<br>


#### 이벤트 위임 방식이 부적절한 경우
1. 복잡한 이벤트 조건
   * 상세 조건 필요: 
     * 이벤트 대상이 되는 요소가 복잡한 조건을 가지고 있을 때, 이벤트 위임을 사용하면 이벤트 핸들러 내에서 복잡한 로직을 처리해야 할 수 있습니다. 예를 들어, 여러 다른 유형의 자식 요소들이 하나의 상위 요소에 혼합되어 있고, 각각에 대한 특정 처리가 필요한 경우 이벤트 위임은 관리하기 어려울 수 있습니다.
2. 과도한 이벤트 버블링
   * 비효율적인 버블링: 
     * 이벤트가 너무 많은 단계를 거쳐서 버블링되는 경우, 이벤트 위임은 비효율적일 수 있습니다. 이는 특히 DOM 트리가 깊고 복잡한 경우에 문제가 될 수 있습니다.
3. 세밀한 이벤트 제어 필요
   * 세밀한 제어: 
     * 특정 요소에 대해 세밀하게 이벤트를 제어하거나 이벤트 전파를 멈추는 경우(예: event.stopPropagation() 사용) 이벤트 위임은 적합하지 않을 수 있습니다.
4. 성능 고려
   * 성능 문제: 
     * 이벤트가 상위 요소에서 처리되므로, 매 이벤트 발생마다 이벤트 대상을 확인하는 과정이 필요합니다. 이는 성능에 부담을 줄 수 있으며, 특히 이벤트가 자주 발생하는 페이지에서는 문제가 될 수 있습니다.
5. 특정 이벤트에 대한 제한
   * 특정 이벤트 불가: 
     * 모든 이벤트가 버블링되지는 않습니다. 
     * 예를 들어, blur, focus, load, unload 같은 일부 이벤트는 버블링되지 않으므로 이벤트 위임을 사용할 수 없습니다.
     * 이벤트 위임을 사용할 때는 이러한 점들을 고려하여, 각 상황에 가장 적합한 방법을 선택하는 것이 중요합니다.


<br>


#### 이벤트 버블링
* 이벤트 버블링(Event Bubbling)은 웹 페이지의 이벤트 처리 방식 중 하나
* 특정 HTML 요소에서 발생한 이벤트가 해당 요소의 상위 요소들로 전파되는 현상
* 이것은 DOM 요소의 계층적 구조를 활용하는 웹 브라우저의 이벤트 처리 메커니즘의 일부
* 이벤트 버블링의 작동 방식
  * 이벤트 발생: 
    * 특정 요소(예: 버튼, 링크 등)에서 이벤트(예: 클릭, 마우스 오버 등)가 발생합니다.
  * 버블링 단계: 
    * 이벤트는 발생한 요소에서 시작하여, DOM 트리를 따라 부모 요소로 순차적으로 전파됩니다. 예를 들어, 버튼을 클릭하는 이벤트는 버튼 → 해당 버튼의 부모 요소 → 그 부모의 부모 요소 순으로 전파됩니다.
  * 이벤트 핸들링: 
    * 이벤트는 상위 요소에 도달하면서 각 요소에 등록된 이벤트 핸들러(리스너)에 의해 처리될 수 있습니다.

<br>

* 이벤트 버블링의 예 (HTML 구조가 다음과 같을 때)
```html
<div id="parent">
    <button id="child">Click me</button>
</div>

```
* 여기서 버튼(#child)을 클릭하는 이벤트는 먼저 button 요소에서 발생한 후, 부모 요소인 div(#parent)로 전파됩니다.

* 이벤트 버블링의 중요성
  * 이벤트 위임: 
    * 버블링은 이벤트 위임(Event Delegation) 기술에 필수적
    * 이를 통해 개별 자식 요소 대신 하나의 부모 요소에 이벤트 리스너를 설정할 수 있음
  * **동적 요소 처리**: 
    * 동적으로 생성되는 요소에 대한 이벤트 핸들링을 용이하게 함!!!!
    * 새로운 요소가 추가되더라도, 이미 설정된 부모 요소의 이벤트 핸들러를 통해 이벤트를 처리할 수 있음
  *  이벤트 버블링 제어
    * event.stopPropagation(): 
    * 이 메서드를 사용하면 이벤트의 추가적인 버블링을 중단할 수 있음
    * 이는 특정 조건 하에서 이벤트의 전파를 방지하고자 할 때 유용
    * 이벤트 버블링의 이해는 웹 페이지에서의 효율적인 이벤트 관리와 사용자 인터랙션 처리에 매우 중요함




 
